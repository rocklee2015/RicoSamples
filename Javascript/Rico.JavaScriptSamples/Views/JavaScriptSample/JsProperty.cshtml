
@{
    ViewBag.Title = "JsProperty";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>JsProperty</h2>
@*<script src="~/Scripts/jquery-src/jquery-2.0.3.min.js"></script>*@
<script src="~/Scripts/jquery-src/jquery-2.0.3-note.js"></script>
<script>
    //=====================访问属性
   
    var book = { _year:2004,edition:1};
    Object.defineProperty(book,"year",
        {
            get: function () {
                return this._year;
            },
            set: function (newValue) {
                if (newValue > 2004) {
                    this._year = newValue;
                    this.edition += newValue - 2004;
                }
            }
        });
    book.year = 2006;
    console.log(book.year);//2006
    console.log(book.edition);//3
    
    //=====================定义多个属性
    var book = {};
    Object.defineProperties(book, {
        _year: { value: 2004 },
        edition: { value: 1 },
        year: {
            get: function () {
                return this._year;
            },
            set: function (newValue) {
                if (newValue > 2004) {
                    this._year = newValue;
                    this.edition += newValue - 2004;
                }
            }
        }
    });
    book.year = 2006;
    console.log(book.year);//2004  为甚么没有改变呢
    console.log(book.edition);//1
</script>



